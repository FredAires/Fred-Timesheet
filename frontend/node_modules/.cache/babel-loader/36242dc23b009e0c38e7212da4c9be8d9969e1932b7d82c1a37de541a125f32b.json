{"ast":null,"code":"var _jsxFileName = \"/Users/fredaires/Developer/Payroll sheet/frontend/src/pages/TimesheetForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction TimesheetForm() {\n  _s();\n  const [periods, setPeriods] = useState([]);\n  const [selectedPeriod, setSelectedPeriod] = useState(\"\");\n  const [week1Hours, setWeek1Hours] = useState(\"\");\n  const [week2Hours, setWeek2Hours] = useState(\"\");\n  const [client, setClient] = useState(\"\");\n  const [state, setState] = useState(\"\");\n  const [notes, setNotes] = useState(\"\");\n  const navigate = useNavigate();\n\n  // Load periods from backend\n  useEffect(() => {\n    fetch(\"http://localhost:3001/periods\").then(res => res.json()).then(data => setPeriods(data)).catch(err => console.error(\"Error loading periods\", err));\n  }, []);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!selectedPeriod || !client || !state) {\n      alert(\"Please fill in all fields\");\n      return;\n    }\n    const userEmail = localStorage.getItem(\"userEmail\");\n    if (!userEmail) {\n      alert(\"No email found — please log in first\");\n      navigate(\"/\");\n      return;\n    }\n    try {\n      if (week1Hours) {\n        await fetch(\"http://localhost:3001/submit\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            email: userEmail,\n            client,\n            state,\n            period: selectedPeriod,\n            week: \"W1\",\n            hours: Number(week1Hours),\n            notes\n          })\n        });\n      }\n      if (week2Hours) {\n        await fetch(\"http://localhost:3001/submit\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            email: userEmail,\n            client,\n            state,\n            period: selectedPeriod,\n            week: \"W2\",\n            hours: Number(week2Hours),\n            notes\n          })\n        });\n      }\n      navigate(\"/review\", {\n        state: {\n          period: selectedPeriod,\n          client,\n          state,\n          week1Hours,\n          week2Hours,\n          notes\n        }\n      });\n    } catch (err) {\n      console.error(err);\n      alert(\"Error submitting timesheet\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-white flex flex-col items-center justify-start\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-1/3 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/logo.png\",\n        alt: \"Company Logo\",\n        className: \"h-40 mx-auto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"mt-16 max-w-md w-full bg-white p-6 rounded-lg shadow-2xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold mb-4 text-center\",\n        style: {\n          fontFamily: \"Montserrat, sans-serif\"\n        },\n        children: \"Timesheet Submission\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedPeriod,\n        onChange: e => setSelectedPeriod(e.target.value),\n        className: \"w-full mb-4 p-2 border rounded\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select Period\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), periods.map((p, idx) => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: p,\n          children: p\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Client\",\n        value: client,\n        onChange: e => setClient(e.target.value),\n        className: \"w-full mb-4 p-2 border rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"State\",\n        value: state,\n        onChange: e => setState(e.target.value),\n        className: \"w-full mb-4 p-2 border rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Week 1 Hours\",\n        value: week1Hours,\n        onChange: e => setWeek1Hours(e.target.value),\n        className: \"w-full mb-4 p-2 border rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Week 2 Hours\",\n        value: week2Hours,\n        onChange: e => setWeek2Hours(e.target.value),\n        className: \"w-full mb-4 p-2 border rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Notes\",\n        value: notes,\n        onChange: e => setNotes(e.target.value),\n        className: \"w-full mb-4 p-2 border rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700\",\n        children: \"Review Before Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n_s(TimesheetForm, \"Wx/vqf3WnWv/feuly4szAbHik7w=\", false, function () {\n  return [useNavigate];\n});\n_c = TimesheetForm;\nexport default TimesheetForm;\nvar _c;\n$RefreshReg$(_c, \"TimesheetForm\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsxDEV","_jsxDEV","TimesheetForm","_s","periods","setPeriods","selectedPeriod","setSelectedPeriod","week1Hours","setWeek1Hours","week2Hours","setWeek2Hours","client","setClient","state","setState","notes","setNotes","navigate","fetch","then","res","json","data","catch","err","console","error","handleSubmit","e","preventDefault","alert","userEmail","localStorage","getItem","method","headers","body","JSON","stringify","email","period","week","hours","Number","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","style","fontFamily","value","onChange","target","map","p","idx","type","placeholder","_c","$RefreshReg$"],"sources":["/Users/fredaires/Developer/Payroll sheet/frontend/src/pages/TimesheetForm.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction TimesheetForm() {\n  const [periods, setPeriods] = useState([]);\n  const [selectedPeriod, setSelectedPeriod] = useState(\"\");\n  const [week1Hours, setWeek1Hours] = useState(\"\");\n  const [week2Hours, setWeek2Hours] = useState(\"\");\n  const [client, setClient] = useState(\"\");\n  const [state, setState] = useState(\"\");\n  const [notes, setNotes] = useState(\"\");\n\n  const navigate = useNavigate();\n\n  // Load periods from backend\n  useEffect(() => {\n    fetch(\"http://localhost:3001/periods\")\n      .then((res) => res.json())\n      .then((data) => setPeriods(data))\n      .catch((err) => console.error(\"Error loading periods\", err));\n  }, []);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!selectedPeriod || !client || !state) {\n      alert(\"Please fill in all fields\");\n      return;\n    }\n\n    const userEmail = localStorage.getItem(\"userEmail\");\n    if (!userEmail) {\n      alert(\"No email found — please log in first\");\n      navigate(\"/\");\n      return;\n    }\n\n    try {\n      if (week1Hours) {\n        await fetch(\"http://localhost:3001/submit\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            email: userEmail,\n            client,\n            state,\n            period: selectedPeriod,\n            week: \"W1\",\n            hours: Number(week1Hours),\n            notes,\n          }),\n        });\n      }\n\n      if (week2Hours) {\n        await fetch(\"http://localhost:3001/submit\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            email: userEmail,\n            client,\n            state,\n            period: selectedPeriod,\n            week: \"W2\",\n            hours: Number(week2Hours),\n            notes,\n          }),\n        });\n      }\n\n      navigate(\"/review\", {\n        state: { period: selectedPeriod, client, state, week1Hours, week2Hours, notes },\n      });\n    } catch (err) {\n      console.error(err);\n      alert(\"Error submitting timesheet\");\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-white flex flex-col items-center justify-start\">\n      <div className=\"h-1/3 flex items-center justify-center\">\n        <img src=\"/logo.png\" alt=\"Company Logo\" className=\"h-40 mx-auto\" />\n      </div>\n      <form\n        onSubmit={handleSubmit}\n        className=\"mt-16 max-w-md w-full bg-white p-6 rounded-lg shadow-2xl\"\n      >\n        <h1\n          className=\"text-2xl font-bold mb-4 text-center\"\n          style={{ fontFamily: \"Montserrat, sans-serif\" }}\n        >\n          Timesheet Submission\n        </h1>\n\n        <select\n          value={selectedPeriod}\n          onChange={(e) => setSelectedPeriod(e.target.value)}\n          className=\"w-full mb-4 p-2 border rounded\"\n        >\n          <option value=\"\">Select Period</option>\n          {periods.map((p, idx) => (\n            <option key={idx} value={p}>\n              {p}\n            </option>\n          ))}\n        </select>\n\n        <input\n          type=\"text\"\n          placeholder=\"Client\"\n          value={client}\n          onChange={(e) => setClient(e.target.value)}\n          className=\"w-full mb-4 p-2 border rounded\"\n        />\n\n        <input\n          type=\"text\"\n          placeholder=\"State\"\n          value={state}\n          onChange={(e) => setState(e.target.value)}\n          className=\"w-full mb-4 p-2 border rounded\"\n        />\n\n        <input\n          type=\"number\"\n          placeholder=\"Week 1 Hours\"\n          value={week1Hours}\n          onChange={(e) => setWeek1Hours(e.target.value)}\n          className=\"w-full mb-4 p-2 border rounded\"\n        />\n\n        <input\n          type=\"number\"\n          placeholder=\"Week 2 Hours\"\n          value={week2Hours}\n          onChange={(e) => setWeek2Hours(e.target.value)}\n          className=\"w-full mb-4 p-2 border rounded\"\n        />\n\n        <textarea\n          placeholder=\"Notes\"\n          value={notes}\n          onChange={(e) => setNotes(e.target.value)}\n          className=\"w-full mb-4 p-2 border rounded\"\n        />\n\n        <button\n          type=\"submit\"\n          className=\"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700\"\n        >\n          Review Before Submit\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default TimesheetForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}