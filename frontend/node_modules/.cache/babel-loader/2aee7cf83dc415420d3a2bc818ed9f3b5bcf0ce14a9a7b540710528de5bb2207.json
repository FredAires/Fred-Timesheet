{"ast":null,"code":"var _jsxFileName = \"/Users/fredaires/Developer/Payroll sheet/frontend/src/pages/TimesheetForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction TimesheetForm() {\n  _s();\n  const [periods, setPeriods] = useState([]);\n  const [selectedPeriod, setSelectedPeriod] = useState(\"\");\n  const [week1Hours, setWeek1Hours] = useState(\"\");\n  const [week2Hours, setWeek2Hours] = useState(\"\");\n  const [client, setClient] = useState(\"\");\n  const [state, setState] = useState(\"\");\n  const [notes, setNotes] = useState(\"\");\n  const navigate = useNavigate();\n\n  // Load available sheets (periods) from backend\n  useEffect(() => {\n    fetch(\"http://localhost:3001/periods\").then(res => res.json()).then(data => {\n      console.log(\"Periods response:\", data); // ðŸ‘€ check here\n      setPeriods(data);\n    }).catch(err => console.error(\"Error loading periods\", err));\n  }, []);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!selectedPeriod || !client || !state) {\n      alert(\"Please fill in all fields and select a period\");\n      return;\n    }\n    const userEmail = localStorage.getItem(\"userEmail\");\n    if (!userEmail) {\n      alert(\"No email found â€” please log in first\");\n      navigate(\"/\");\n      return;\n    }\n    try {\n      // Submit Week 1\n      if (week1Hours) {\n        await fetch(\"http://localhost:3001/submit\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            email: userEmail,\n            client,\n            state,\n            period: selectedPeriod,\n            // sheet name!\n            week: \"W1\",\n            hours: Number(week1Hours),\n            notes\n          })\n        });\n      }\n\n      // Submit Week 2\n      if (week2Hours) {\n        await fetch(\"http://localhost:3001/submit\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            email: userEmail,\n            client,\n            state,\n            period: selectedPeriod,\n            // sheet name!\n            week: \"W2\",\n            hours: Number(week2Hours),\n            notes\n          })\n        });\n      }\n\n      // Navigate to review\n      navigate(\"/review\", {\n        state: {\n          period: selectedPeriod,\n          client,\n          state,\n          week1Hours,\n          week2Hours,\n          notes\n        }\n      });\n    } catch (err) {\n      console.error(err);\n      alert(\"Error submitting timesheet\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-white flex flex-col items-center justify-start\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-1/3 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/logo.png\",\n        alt: \"Company Logo\",\n        className: \"h-40 mx-auto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"mt-16 max-w-md w-full bg-white p-6 rounded-lg shadow-2xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold mb-4 text-center\",\n        style: {\n          fontFamily: \"Montserrat, sans-serif\"\n        },\n        children: \"Timesheet Submission\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), Array.isArray(periods) && periods.length > 0 ? periods.map((p, idx) => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: p,\n        children: p\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 5\n      }, this)) : /*#__PURE__*/_jsxDEV(\"option\", {\n        disabled: true,\n        children: \"No periods available\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Client\",\n        value: client,\n        onChange: e => setClient(e.target.value),\n        className: \"w-full mb-4 p-2 border rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"State\",\n        value: state,\n        onChange: e => setState(e.target.value),\n        className: \"w-full mb-4 p-2 border rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Week 1 Hours\",\n        value: week1Hours,\n        onChange: e => setWeek1Hours(e.target.value),\n        className: \"w-full mb-4 p-2 border rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Week 2 Hours\",\n        value: week2Hours,\n        onChange: e => setWeek2Hours(e.target.value),\n        className: \"w-full mb-4 p-2 border rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Notes\",\n        value: notes,\n        onChange: e => setNotes(e.target.value),\n        className: \"w-full mb-4 p-2 border rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700\",\n        children: \"Review Before Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n}\n_s(TimesheetForm, \"Wx/vqf3WnWv/feuly4szAbHik7w=\", false, function () {\n  return [useNavigate];\n});\n_c = TimesheetForm;\nexport default TimesheetForm;\nvar _c;\n$RefreshReg$(_c, \"TimesheetForm\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsxDEV","_jsxDEV","TimesheetForm","_s","periods","setPeriods","selectedPeriod","setSelectedPeriod","week1Hours","setWeek1Hours","week2Hours","setWeek2Hours","client","setClient","state","setState","notes","setNotes","navigate","fetch","then","res","json","data","console","log","catch","err","error","handleSubmit","e","preventDefault","alert","userEmail","localStorage","getItem","method","headers","body","JSON","stringify","email","period","week","hours","Number","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","style","fontFamily","Array","isArray","length","map","p","idx","value","disabled","type","placeholder","onChange","target","_c","$RefreshReg$"],"sources":["/Users/fredaires/Developer/Payroll sheet/frontend/src/pages/TimesheetForm.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction TimesheetForm() {\n  const [periods, setPeriods] = useState([]);\n  const [selectedPeriod, setSelectedPeriod] = useState(\"\");\n  const [week1Hours, setWeek1Hours] = useState(\"\");\n  const [week2Hours, setWeek2Hours] = useState(\"\");\n  const [client, setClient] = useState(\"\");\n  const [state, setState] = useState(\"\");\n  const [notes, setNotes] = useState(\"\");\n\n  const navigate = useNavigate();\n\n  // Load available sheets (periods) from backend\n  useEffect(() => {\n    fetch(\"http://localhost:3001/periods\")\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(\"Periods response:\", data); // ðŸ‘€ check here\n        setPeriods(data);\n      })\n      .catch((err) => console.error(\"Error loading periods\", err));\n  }, []);\n  \n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!selectedPeriod || !client || !state) {\n      alert(\"Please fill in all fields and select a period\");\n      return;\n    }\n\n    const userEmail = localStorage.getItem(\"userEmail\");\n    if (!userEmail) {\n      alert(\"No email found â€” please log in first\");\n      navigate(\"/\");\n      return;\n    }\n\n    try {\n      // Submit Week 1\n      if (week1Hours) {\n        await fetch(\"http://localhost:3001/submit\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            email: userEmail,\n            client,\n            state,\n            period: selectedPeriod, // sheet name!\n            week: \"W1\",\n            hours: Number(week1Hours),\n            notes,\n          }),\n        });\n      }\n\n      // Submit Week 2\n      if (week2Hours) {\n        await fetch(\"http://localhost:3001/submit\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            email: userEmail,\n            client,\n            state,\n            period: selectedPeriod, // sheet name!\n            week: \"W2\",\n            hours: Number(week2Hours),\n            notes,\n          }),\n        });\n      }\n\n      // Navigate to review\n      navigate(\"/review\", {\n        state: {\n          period: selectedPeriod,\n          client,\n          state,\n          week1Hours,\n          week2Hours,\n          notes,\n        },\n      });\n    } catch (err) {\n      console.error(err);\n      alert(\"Error submitting timesheet\");\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-white flex flex-col items-center justify-start\">\n      <div className=\"h-1/3 flex items-center justify-center\">\n        <img src=\"/logo.png\" alt=\"Company Logo\" className=\"h-40 mx-auto\" />\n      </div>\n      <form\n        onSubmit={handleSubmit}\n        className=\"mt-16 max-w-md w-full bg-white p-6 rounded-lg shadow-2xl\"\n      >\n        <h1\n          className=\"text-2xl font-bold mb-4 text-center\"\n          style={{ fontFamily: \"Montserrat, sans-serif\" }}\n        >\n          Timesheet Submission\n        </h1>\n\n        {/* Period dropdown from sheet names */}\n        {Array.isArray(periods) && periods.length > 0 ? (\n  periods.map((p, idx) => (\n    <option key={idx} value={p}>\n      {p}\n    </option>\n  ))\n) : (\n  <option disabled>No periods available</option>\n)}\n\n\n        <input\n          type=\"text\"\n          placeholder=\"Client\"\n          value={client}\n          onChange={(e) => setClient(e.target.value)}\n          className=\"w-full mb-4 p-2 border rounded\"\n        />\n\n        <input\n          type=\"text\"\n          placeholder=\"State\"\n          value={state}\n          onChange={(e) => setState(e.target.value)}\n          className=\"w-full mb-4 p-2 border rounded\"\n        />\n\n        <input\n          type=\"number\"\n          placeholder=\"Week 1 Hours\"\n          value={week1Hours}\n          onChange={(e) => setWeek1Hours(e.target.value)}\n          className=\"w-full mb-4 p-2 border rounded\"\n        />\n\n        <input\n          type=\"number\"\n          placeholder=\"Week 2 Hours\"\n          value={week2Hours}\n          onChange={(e) => setWeek2Hours(e.target.value)}\n          className=\"w-full mb-4 p-2 border rounded\"\n        />\n\n        <textarea\n          placeholder=\"Notes\"\n          value={notes}\n          onChange={(e) => setNotes(e.target.value)}\n          className=\"w-full mb-4 p-2 border rounded\"\n        />\n\n        <button\n          type=\"submit\"\n          className=\"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700\"\n        >\n          Review Before Submit\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default TimesheetForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}